CKspider
===============

一位前靠让我帮忙去chuanke.com抓取课程信息，得到该网站一天上传多少课程，新增观看人数及购买金额等信息，借此来评估我的编程能力

### 平台：
arch linux

### 第三方包：
requests

### 使用：

在命令行执行 

第一天

    ./main.py one http://www.chuanke.com/course/index.html

第二天

    ./main.py two http://www.chuanke.com/course/index.html

然后执行

    ./final.py one two

数据存于day%d目录中，其中hreflist里放的是课程详情页的url，一行一个，msg里每两行代表一个课程，第一行是url，第二行放的分别是课程的名称，价格和购买人数，空格隔开

最终结果数据存在result目录中，new代表新上架的，now代表现在存在的，off代表已下架的，现在存在的金额和购买人数是一天内的数据，由第二天的数据减第一天的数据得到，而上架或下架的则是抓取数据时总的金额和购买人数。

### 我的思路：

第一步、进入所有分类的页面，判断是否有子分类，若有则去获取其子分类的url，进入子分类页面，然后再判断是否有子分类，若有则再进入其子分类，一直到没有子分类。

第二步、遍历该分类下的各个页面，对于每个页面都先获取该页展示的所有课程的url，存入本地文件中，同时把页面html存到本地

第三步、进入上一步获取的商品详情页url中，获取该商品的价格和购买金额，同时把html存到本地

第四步、统计得到的数据

### 新增：

发现正则表达式不能匹配是因为requests.get请求没请求成功，返回一行错误信息，现已经增加一个判断语句来解决这个问题

将课程展示页保存在一个文件夹中

将课程详情页保存在html文件夹中

统计数据用final.py，把第一天第二天数据分别存到两个字典里，把两个字典都有的数据作差得到一天的数据，第一天有而第二天没有的为已下架，存到off.txt里，而第二天有第一天没有的则为刚上架，存到new.txt里


### 数据存放位置：

中间结果：dayone daytwo文件夹

最终统计数据：result文件夹

